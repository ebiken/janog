<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.22">
<title>AIインフラ解説資料（AI/HPC &amp; UEC技術概要）</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>AIインフラ解説資料（AI/HPC &amp; UEC技術概要）</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_aiインフラ解説資料の読み進め方">AIインフラ解説資料の読み進め方</a></li>
<li><a href="#_既存のaihpc関連ネットワーク技術">既存のAI/HPC関連ネットワーク技術</a>
<ul class="sectlevel2">
<li><a href="#_参考文献">参考文献</a>
<ul class="sectlevel3">
<li><a href="#_過去のjanogセッション">過去のJANOGセッション</a></li>
<li><a href="#_aihpcネットワーク関連日本語">AI/HPCネットワーク関連（日本語）</a></li>
<li><a href="#_aiml関連その他日本語">AI/ML関連：その他（日本語）</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_uec概要">UEC概要</a>
<ul class="sectlevel2">
<li><a href="#_設立趣旨">設立趣旨</a></li>
<li><a href="#_メンバー企業のタイプ">メンバー企業のタイプ</a></li>
<li><a href="#_組織と運営方法">組織と運営方法</a>
<ul class="sectlevel3">
<li><a href="#_working_groups">Working Groups</a></li>
<li><a href="#_普段の活動">普段の活動</a></li>
</ul>
</li>
<li><a href="#_uecの活動を知る方法">UECの活動を知る方法</a>
<ul class="sectlevel3">
<li><a href="#_uec_blog">UEC BLOG</a></li>
<li><a href="#_uecが参加したカンファレンスの一覧スライドやビデオのアーカイブ">UECが参加したカンファレンスの一覧（スライドやビデオのアーカイブ）</a></li>
</ul>
</li>
<li><a href="#_uec関連団体">UEC関連団体</a></li>
<li><a href="#_uec取り組みの背景">UEC取り組みの背景</a>
<ul class="sectlevel3">
<li><a href="#_uec取り組みの背景_に含まれる情報について">"UEC取り組みの背景" に含まれる情報について</a></li>
<li><a href="#_イーサネットのアドバンテージ">イーサネットのアドバンテージ</a></li>
<li><a href="#_マルチパスとパケットスプレー">マルチパスとパケットスプレー</a></li>
<li><a href="#_flexible_ordering_柔軟な配信順序">Flexible Ordering （柔軟な配信順序）</a></li>
<li><a href="#_aiやhpcに最適化された輻輳制御メカニズム">AIやHPCに最適化された輻輳制御メカニズム</a></li>
<li><a href="#_エンドツーエンドのテレメトリ">エンドツーエンドのテレメトリ</a></li>
<li><a href="#_大規模化安定性信頼性">大規模化、安定性、信頼性</a></li>
<li><a href="#_ロスレスファブリックの課題">ロスレスファブリックの課題</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_uec_technology_overview_全体像やトピック毎の詳細解説">UEC Technology Overview （全体像やトピック毎の詳細解説）</a>
<ul class="sectlevel2">
<li><a href="#_uec技術の全体像">UEC技術の全体像</a>
<ul class="sectlevel3">
<li><a href="#_uec_profile">UEC Profile</a></li>
<li><a href="#_将来的に検討が進められている技術公開情報のみ記載">将来的に検討が進められている技術（公開情報のみ記載）</a></li>
<li><a href="#_レイヤー毎のuec技術一覧">レイヤー毎のUEC技術一覧</a></li>
</ul>
</li>
<li><a href="#_uetaiやhpc向けトランスポートプロトコル">UET：AIやHPC向けトランスポートプロトコル</a>
<ul class="sectlevel3">
<li><a href="#_packet_spray_posted_buffer">Packet Spray (Posted Buffer)</a></li>
<li><a href="#_packet_trimming_optional">Packet Trimming (optional)</a></li>
<li><a href="#_uetの輻輳制御アルゴリズム">UETの輻輳制御アルゴリズム</a></li>
<li><a href="#_ephemeral_connection_エフェメラルコネクション">Ephemeral Connection （エフェメラルコネクション）</a></li>
</ul>
</li>
<li><a href="#_イーサネットの拡張機能llr_cbfc_lldp">イーサネットの拡張機能（LLR, CBFC, LLDP）</a>
<ul class="sectlevel3">
<li><a href="#_link_layer_retransmission_optional">Link-Layer Retransmission (optional)</a></li>
</ul>
</li>
<li><a href="#_in_network_collectives_inc">In Network Collectives (INC)</a></li>
</ul>
</li>
<li><a href="#_uecを利用するための検討ポイント">UECを利用するための検討ポイント</a>
<ul class="sectlevel2">
<li><a href="#_まとめ">まとめ</a></li>
<li><a href="#_uecを利用することによる変化や注意点">UECを利用することによる変化や注意点</a>
<ul class="sectlevel3">
<li><a href="#_技術スタックの変化">技術スタックの変化</a></li>
<li><a href="#_デバイス構成による利用可能な技術の比較">デバイス構成による利用可能な技術の比較</a></li>
<li><a href="#_uec技術と関連するコンポーネントまとめ">UEC技術と関連するコンポーネント（まとめ）</a></li>
</ul>
</li>
<li><a href="#_uecを利用する際の検討ポイント">UECを利用する際の検討ポイント</a>
<ul class="sectlevel3">
<li><a href="#_infiniband_に対する_ethernet_を利用する理由">Infiniband に対する Ethernet を利用する理由</a></li>
<li><a href="#_nvidia_suites_を利用しない理由">NVIDIA Suites を利用しない理由</a></li>
<li><a href="#_uecとroceの比較">UECとRoCEの比較</a></li>
<li><a href="#_既存環境でのチューニングの必要性について">既存環境でのチューニングの必要性について</a></li>
</ul>
</li>
<li><a href="#_uec仕様や製品のロードマップ">UEC仕様や製品のロードマップ</a></li>
<li><a href="#_uec対応製品出荷前の製品を含む">UEC対応製品（出荷前の製品を含む）</a>
<ul class="sectlevel3">
<li><a href="#_amd">AMD</a></li>
<li><a href="#_broadcom">Broadcom</a></li>
<li><a href="#_marvell_technology">Marvell Technology</a></li>
<li><a href="#_marvel_nic">Marvel NIC</a></li>
<li><a href="#_arista">Arista</a></li>
<li><a href="#_asterfusion">Asterfusion</a></li>
<li><a href="#_cisco_nexus_9000_series_switches">Cisco Nexus 9000 Series Switches</a></li>
<li><a href="#_mercury_ai_supernic">Mercury AI-SuperNIC</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_aiインフラ解説資料の読み進め方">AIインフラ解説資料の読み進め方</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JANOG55 AIインフラ解説資料（PDF）は <a href="https://github.com/ebiken/janog/blob/main/JANOG55/janog55-ai-infra.pdf">janog55-ai-infra.pdf</a> からダウンロード可能です。</p>
</div>
<div class="paragraph">
<p>AIワークロードやインフラに関する理解度に応じて、以下のように読み進めていただくと良いでしょう。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>既存のAI/HPC関連ネットワーク技術をまず学習したい人は、最初の "既存のAI/HPC関連ネットワーク技術" から、"UEC概要"、"UEC Technology Overview" と準にを読み進めてください。</p>
</li>
<li>
<p>既存技術について十分理解している人は、"UEC概要" から読み始めてください。</p>
</li>
<li>
<p>UECの背景や組織ではなく、UECの技術にのみ興味ある方は "UEC Technology Overview" から読み始めてください。</p>
</li>
<li>
<p>UEC技術や製品ロードマップ、および検討のポイントをざっと把握したい人は "UECを利用するための検討ポイント" を参照してください。</p>
</li>
<li>
<p>UETは Libfabric API を利用しています。Libfabricについて知りたいかたは、別紙 "Libfabric (OFI)" <a href="https://github.com/ebiken/janog/blob/main/JANOG55/hpc-libfabric.pdf">hpc-libfabric.pdf</a> を参照してください。</p>
<div class="dlist">
<dl>
<dt class="hdlist1">注意 </dt>
<dd>
<p>本資料に含まれるUEC関連情報は（2025年1月）時点での公開情報をもとに執筆しています。
UEC技術の利用検討や評価を実施する際には、公式サイトの情報や、2025年前半に一般公開予定の "UEC Specification（UEC仕様書）" を参照してください。</p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_既存のaihpc関連ネットワーク技術">既存のAI/HPC関連ネットワーク技術</h2>
<div class="sectionbody">
<div class="paragraph">
<p>既存のAI/HPC関連ネットワーク技術は、大きく分類するとロスレスイーサネット、輻輳制御、ロードバランシング、の3つを実現する技術から構成されます。
これらの既存技術に関してはJANOGなどで解説されていますので、UECの技術を理解するための前提知識として "参考文献" に記載した資料を一読しておくと良いでしょう。</p>
</div>
<div class="paragraph">
<p>ロードバランシング技術は様々な技術がありますが、ベンダを問わずサポートされているのはDLBです。</p>
</div>
<table id="ai_hpc_tech_summary" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. 既存のAI/HPC関連ネットワーク技術</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">機能</th>
<th class="tableblock halign-left valign-top">代表的な技術</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ロスレスイーサネット（Lossless Ethernet）</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>PFC (802.1Qbb, Priority Flow Control)</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">輻輳制御（Congestion Control）</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>DCQCN (ECN, Sender-driven)</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ロードバランシング（Load Balancing, Fabric utilization)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Dynamic Load Balancing (flowlet)</p>
</li>
<li>
<p>NVIDIA Adaptive Routing (flowlet?)</p>
</li>
<li>
<p>Packet Spray (Packet based)</p>
</li>
<li>
<p>Scheduled Fabric (VoQ) (Cell based)</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_参考文献">参考文献</h3>
<div class="sect3">
<h4 id="_過去のjanogセッション">過去のJANOGセッション</h4>
<div class="ulist">
<ul>
<li>
<p>JANOG54 生成AI向けパブリッククラウドサービスをつくってみた話</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.janog.gr.jp/meeting/janog54/sakura/" class="bare">https://www.janog.gr.jp/meeting/janog54/sakura/</a></p>
</li>
<li>
<p>井上 喬視, 高峯 誠, 平田 大祐 さくらインターネット株式会社</p>
</li>
</ul>
</div>
</li>
<li>
<p>JANOG54 ネットワークオペレーションにおける生成AI技術の活用検討について</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.janog.gr.jp/meeting/janog54/genai/" class="bare">https://www.janog.gr.jp/meeting/janog54/genai/</a></p>
</li>
<li>
<p>佐藤 亮介, 白井 嵩士, 田口 順史, 近藤 優吉 株式会社NTTフィールドテクノ</p>
</li>
<li>
<p>宮坂 拓也, 株式会社KDDI総合研究所</p>
</li>
<li>
<p>仲松 匠, KDDI株式会社</p>
</li>
<li>
<p>AI/MLネットワークではなくAIをネットワーク運用に活用する内容。GPTの概要を解説している。</p>
</li>
</ul>
</div>
</li>
<li>
<p>JANOG53 AI(人工知能)の為のネットワーク</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.janog.gr.jp/meeting/janog53/ainw/" class="bare">https://www.janog.gr.jp/meeting/janog53/ainw/</a></p>
</li>
<li>
<p>土屋 師子生, アリスタネットワークスジャパン合同会社</p>
</li>
</ul>
</div>
</li>
<li>
<p>JANOG52 AI/ML基盤の400G DCネットワークを構築した話</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.janog.gr.jp/meeting/janog52/aiml400/" class="bare">https://www.janog.gr.jp/meeting/janog52/aiml400/</a></p>
</li>
<li>
<p>内田 泰広, 小障子 尚太朗, 株式会社サイバーエージェント</p>
</li>
</ul>
</div>
</li>
<li>
<p>JANOG50+ パケットロスと遅延</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.janog.gr.jp/meeting/janog50plus/docs/janog50plus-maz-losslatency.pdf" class="bare">https://www.janog.gr.jp/meeting/janog50plus/docs/janog50plus-maz-losslatency.pdf</a></p>
</li>
<li>
<p>松崎 吉伸(株式会社インターネットイニシアティブ)</p>
</li>
</ul>
</div>
</li>
<li>
<p>JANOG43 LINEのネットワークをゼロから設計した話</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.janog.gr.jp/meeting/janog43/application/files/7915/4823/1858/janog43-line-kobayashi.pdf" class="bare">https://www.janog.gr.jp/meeting/janog43/application/files/7915/4823/1858/janog43-line-kobayashi.pdf</a></p>
</li>
<li>
<p>Masayuki Kobayashi, LINE Corporation</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_aihpcネットワーク関連日本語">AI/HPCネットワーク関連（日本語）</h4>
<div class="ulist">
<ul>
<li>
<p>GPUクラスタネットワークとその設計思想（Rethinking AI Infrastructure Part 2）</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://techblog.lycorp.co.jp/ja/20250115a" class="bare">https://techblog.lycorp.co.jp/ja/20250115a</a></p>
</li>
<li>
<p>LINEヤフー株式会社 小林、深澤</p>
</li>
</ul>
</div>
</li>
<li>
<p>"GPUネットワーク設計・運用 基礎勉強会 Lossless Ethernet - PFC/ECN編"</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://speakerdeck.com/markunet/ecnbian" class="bare">https://speakerdeck.com/markunet/ecnbian</a></p>
</li>
<li>
<p>LINEヤフー株式会社 小林正幸</p>
</li>
</ul>
</div>
</li>
<li>
<p>AI時代のデータセンターネットワーク</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://speakerdeck.com/lycorptech_jp/dcnw_in_the_ai_era" class="bare">https://speakerdeck.com/lycorptech_jp/dcnw_in_the_ai_era</a></p>
</li>
<li>
<p>第40回 情報ネットワーク・ネットワークシステム研究ワークショップ</p>
</li>
<li>
<p>LINEヤフー株式会社 小林正幸</p>
</li>
</ul>
</div>
</li>
<li>
<p>EthernetベースのGPUクラスタ導入による学びと展望</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://speakerdeck.com/lycorptech_jp/20241202" class="bare">https://speakerdeck.com/lycorptech_jp/20241202</a></p>
</li>
<li>
<p>NVIDIA AI Summit Japan 2024</p>
</li>
<li>
<p>LINEヤフー株式会社 小林正幸、道下幹也</p>
</li>
</ul>
</div>
</li>
<li>
<p>Podcast: fukabori.fm "124. AI時代のGPUクラスタ、DCネットワーク"</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://fukabori.fm/episode/124" class="bare">https://fukabori.fm/episode/124</a></p>
</li>
<li>
<p>LINEヤフー株式会社 小林正幸、道下幹也</p>
</li>
</ul>
</div>
</li>
<li>
<p>PFNにおけるアクセラレータ間通信の実際 / MPLS Japan 2024</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://speakerdeck.com/pfn/mpls-japan-2024" class="bare">https://speakerdeck.com/pfn/mpls-japan-2024</a></p>
</li>
<li>
<p>Yuichiro Ueno / Preferred Networks, Inc.</p>
</li>
</ul>
</div>
</li>
<li>
<p>"イーサネットが高信頼ネットに進化する, [3] 中核はフロー制御をつかさどる「PFC」と「ETS」"</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://xtech.nikkei.com/it/article/COLUMN/20091006/338383/" class="bare">https://xtech.nikkei.com/it/article/COLUMN/20091006/338383/</a></p>
</li>
<li>
<p>2009-10-15 日経クロステック</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_aiml関連その他日本語">AI/ML関連：その他（日本語）</h4>
<div class="ulist">
<ul>
<li>
<p>Distributed Cache Empowers AI/ML Workloads on Kubernetes Cluster / KubeCon + CloudNativeCon North America 2024</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://speakerdeck.com/pfn/kubecon-plus-cloudnativecon-north-america-2024" class="bare">https://speakerdeck.com/pfn/kubecon-plus-cloudnativecon-north-america-2024</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>生成AI向け機械学習クラスタ 構築のレシピ - 北海道石狩編</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://speakerdeck.com/pfn/20240615-cloudnativedayssummer-pfn" class="bare">https://speakerdeck.com/pfn/20240615-cloudnativedayssummer-pfn</a></p>
</li>
<li>
<p>Cloud Native Days Summer 2024</p>
</li>
</ul>
</div>
</li>
<li>
<p>実際に運用してわかった！多種GPU混載Kubernetesクラスタの使われ方と運用省力化</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://speakerdeck.com/pfn/cloudnativedaystokyo23-shiota" class="bare">https://speakerdeck.com/pfn/cloudnativedaystokyo23-shiota</a></p>
</li>
<li>
<p>Tetsuya Shiota 株式会社PreferredNetworks</p>
</li>
<li>
<p>CNDT2023: CloudNative Days Tokyo 2023</p>
</li>
</ul>
</div>
</li>
<li>
<p>（2023年末） LLMの現在 - 今のLLMを取り巻く状況について紹介します。</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://speakerdeck.com/pfn/llmnoxian-zai" class="bare">https://speakerdeck.com/pfn/llmnoxian-zai</a></p>
</li>
<li>
<p>Preferred Networks, いもす (<a href="mailto:imos@preferred.jp">imos@preferred.jp</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_uec概要">UEC概要</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_設立趣旨">設立趣旨</h3>
<div class="paragraph">
<p>Ultra Ethernet Consolrtium (UEC) は、AIやHPCの要求に応える高性能なイーサネット通信を実現するために設立された業界団体です。</p>
</div>
<div class="paragraph">
<p><a href="https://www.top500.org">top500.org</a> の TOP500 LIST - NOVEMBER 2004 <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> にランキングされているHPCシステムでもGPUが利用されているなど、今後AIとHPCのワークロードおよびネットワーク要件が重複していくことが予想されています。
そのため、UECではAIに限定せず、AIとHPCワークロード（RoCEv2）両方の課題を解決するプロトコルや技術の "オープンスタンダード" を "マルチベンダ" で開発することを目的としています。</p>
</div>
<div class="paragraph">
<p>UECは、2023年に AMD, Arista, Broadcom, Cisco, Eviden (an Atos Business), HPE, Intel, Meta, Microsoft により設立され <sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> 、2024年12月 現在では、合計90社のメンバー企業で構成されています。</p>
</div>
<div class="paragraph">
<p>NVIDIAによるアプリケーション、アクセラレータ（GPU）、ネットワークの垂直統合による独占に対抗するために設立されたと言われることもありますが、2024年からNVIDIAもメンバー企業として活動に参加しています。</p>
</div>
<div class="paragraph">
<p>UECは Linux Foundation 傘下の JDF (Joint Development Foundation)  <sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup> の一部として組織されています。
JDFは、企業や団体が共同で技術標準やオープンソースプロジェクトを迅速に立ち上げるための法的および運営的な基盤を提供する団体で、共同開発を効率的に推進するための仕組みを提供しています。</p>
</div>
</div>
<div class="sect2">
<h3 id="_メンバー企業のタイプ">メンバー企業のタイプ</h3>
<div class="paragraph">
<p>メンバー企業や組織は
Steering Members, General Members, Contributor Members
の3種類に分類されます。
新規加入企業が選択できるのは General と Contributor のいずれかです。</p>
</div>
<div class="paragraph">
<p>2025年1月1日現在、10社の Steering Members、 26社の General Members、54社の Contributor Members、合計90社のメンバー企業で構成されています。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Steering Members</dt>
<dd>
<p>メンバーは AMD, Arista, Broadcom, Cisco, Eviden, HPE, Intel, Meta, Microsoft, Oracle
であり、共同設立企業 + Oracleで構成されています。</p>
</dd>
<dt class="hdlist1">General Members</dt>
<dd>
<p>General Members はTACへの参加が可能で、新しいワーキンググループの立ち上げやワークアイテムの作成など、UECの活動内容について影響を与えることが可能です。
また、過半数よりも多い（2/3や3/4など）賛成が必要な議題への投票（Supermajority）権利も持ちます。</p>
</dd>
<dt class="hdlist1">Contributor Members</dt>
<dd>
<p>Contributor Members は General Members と異なり新しい活動の提案はできませんが、アクセス可能な情報や技術貢献も可能で、Supermajorityを除く投票にも参加する権利を持ちます。
そのため、通常は General Members と変わらない活動が可能です。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>日本企業も数社メンバー企業として参加しています。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">UECメンバーの日本企業</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>General Member: Preferred Networks</p>
</li>
<li>
<p>Contributor Member: Fujitsu, IIJ</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>メンバー企業の一覧は、UEC Webサイトのトップページ <a href="https://ultraethernet.org/" class="bare">https://ultraethernet.org/</a> <sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup> で参照可能です。</p>
</div>
</div>
<div class="sect2">
<h3 id="_組織と運営方法">組織と運営方法</h3>
<div class="paragraph">
<p>UECは以下のような組織から構成されます。
技術的には、各 Working Groups の活動状況や、その結果として広報されるホワイトペーパーやBLOG、仕様書などを参照すると良いでしょう。
（仕様策定プロセスの詳細は、内部情報のため省略しています）</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Steering Committee (SC)</dt>
<dd>
<p>組織運営を統括し、UEC全体の方向性を決定します。</p>
</dd>
<dt class="hdlist1">Marketing Committee</dt>
<dd>
<p>外部とのコミュニケーションに責任を持ち、イベントなどのコーディネートを行います。</p>
</dd>
<dt class="hdlist1">Technical Advisory Committee (TAC)</dt>
<dd>
<p>SCの元で、UECの技術活動の範囲や優先順位を定め、監督します。
また、ハイレベルな技術ロードマップや、ユースケースのスコープや技術目標を定めます。
各 Working Group が提案する技術仕様を承認し、UECの仕様全体の整合性を保ちます。
TACに参加するには General Members の会員タイプである事が必要です。</p>
</dd>
<dt class="hdlist1">Working Groups</dt>
<dd>
<p>技術分野毎に設立され、UEC技術仕様のうち、担当する技術分野の仕様検討や仕様書を作成します。</p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_working_groups">Working Groups</h4>
<div class="paragraph">
<p>2024年12月 現在の Working Group と活動内容は以下の通りです。 <sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. UEC Working Group と活動内容 （2024年12月 現在）</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Working Group</th>
<th class="tableblock halign-left valign-top">活動内容</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Physical Layer (PH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">物理レイヤーでの、遅延の低減、管理改善、などに取り組んでいます。
イーサネット物理層、電気および光信号特性、APIやデータ構造の仕様策定を行います。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Link Layer (LL)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">リンクレイヤーでの、遅延の低減、管理改善、などに取り組んでいます。
イーサネットの効率、セキュリティ、スケーラビリティを最適化する仕様策定を行います。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transport Layer (TR)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">エンドツーエンドのデータ配信に不可欠な、トランスポートレイヤーでのスループットの向上、遅延の低減、スケーラビリティの向上、管理の改善を実現するトランスポートの仕様策定を行います。
UEC技術の中核となる Ultra Ethernet Transport (UET) の仕様策定を行っています。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Software Layer (SL)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AI/HPCの幅広いユースケースとアプリケーションをサポートするため、ソフトウェアAPIを含む技術仕様の策定や、オープンソース実装の開発を行います。
技術分野としては、リモートメモリアクセスの最適化、INC（In Network Collective）の実現、セキュリティ、管理改善、ストレージを含みます。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Storage Working Group (ST)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UECベースのAI/HPCワークロードで利用可能なストレージサービスを、他 Working Groups と協力しながら取り組みます。
新たな仕様策定だけでなく、既存ストレージ管理のベストプラクティスの取り込みを含みます。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compliance Working Group (CT)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サービスとデバイスがUECの定義した技術に適合していることを確認することに取り組みます。
UEC実装を評価するためのテストを作成し、UEC標準への厳格な準拠を保証します。
また、UECが定義したAI/HPCプロファイルに従って、UEC準拠のネットワークデバイス（NIC、PCIe NIC、スイッチなど）間の相互運用性目標を定義します。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Management Working Group (MG)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UEC Fabricの管理性を強化するための仕様策定を行います。
UEC準拠の Transport Fabric End Point (FEP) のモデル、管理エレメント、RPC (Remote Procedure Call) などを定義します。
トポロジー・ディスカバリー、ケイパビリティ・ディスカバリー、モニタリング、インターオペラビリティ・クエリーなども含みます。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance and Debug Working Group (PD)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">進化するUECの仕様に合わせ、AI/HPCワークロードの性能指標、ベンチマーク、デバッグ機能、ツールを定義します。
また、UEC準拠の実装における可視性とデバッグ可能性を強化することで、開発者、DevOps、ネットワーク運用チームを支援します。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_普段の活動">普段の活動</h4>
<div class="paragraph">
<p>普段の活動は各 Working Group 毎に仕様検討や仕様書を作成し、定期的にTACがレビュー承認することで全体の整合性を保ちながら仕様策定を進めています。</p>
</div>
<div class="paragraph">
<p>普段の議論はメーリングリストとオンライン会議など、オンラインで技術検討や仕様策定は進んでいくためリモートでの参加が可能です。
但し、オンライン会議は日本時間では深夜早朝にあたる北米の日中に行われています。</p>
</div>
<div class="paragraph">
<p>Working Group よっては、年数度のオフライン会議で集中的に課題を議論する場合もあります。
また、2025年はメンバー会合が開催される予定です。</p>
</div>
<div class="paragraph">
<p>2025年前半に最初の仕様が公開された後は活動頻度や形態も変わっていく可能性がありますので、メンバーとして加入を検討する際には最新の活動状況を確認すると良いでしょう。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_uecの活動を知る方法">UECの活動を知る方法</h3>
<div class="paragraph">
<p>メンバー企業に所属していない人でも、以下方法でUECの活動を知ることが可能です。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>カンファレンス</p>
<div class="ulist">
<ul>
<li>
<p>カンファレンスのセッションを聴講することで、活動状況や技術に関する最も詳細な情報に触れることが可能です。</p>
</li>
<li>
<p>また、展示がある場合は展示会場でUECメンバーと会話することが可能です。</p>
</li>
<li>
<p>詳細は、表 <a href="#uec-conference-link">UECが参加したカンファレンスの一覧（スライドやビデオのアーカイブ）</a> を参照してください。</p>
</li>
</ul>
</div>
</li>
<li>
<p>Webサイト： <a href="https://ultraethernet.org/" class="bare">https://ultraethernet.org/</a></p>
<div class="ulist">
<ul>
<li>
<p>Webサイトには、UECの組織構成、メンバー企業の一覧、Working Groups、などの情報が記載されています。</p>
</li>
<li>
<p>UEC設立のモチベーションと、策定中の仕様（概要）が記載されたホワイトペーパー <sup class="footnote">[<a id="_footnoteref_6" class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup> をダウンロード可能です。</p>
</li>
<li>
<p>Blog: Latest News <sup class="footnote">[<a id="_footnoteref_7" class="footnote" href="#_footnotedef_7" title="View footnote.">7</a>]</sup> には最新情報が掲載されますので、定期的にチェックすると良いでしょう。</p>
</li>
</ul>
</div>
</li>
<li>
<p>メンバー企業のプレスリリースやWebサイト</p>
<div class="ulist">
<ul>
<li>
<p>メンバー企業がUECでの活動について発信する場合があります。</p>
</li>
<li>
<p>特にUECに対応した製品の最新情報については、各メンバー企業からの発信される情報を参照すると良いでしょう。</p>
</li>
</ul>
</div>
</li>
<li>
<p>LinkedIn: <a href="https://www.linkedin.com/company/ultraethernet/posts/" class="bare">https://www.linkedin.com/company/ultraethernet/posts/</a></p>
<div class="ulist">
<ul>
<li>
<p>LinkedInのUECアカウントのポストを追うことで、UECが参加するカンファレンスや発信した情報を知ることが可能です。</p>
</li>
<li>
<p>また、メンバー企業や他組織の投稿をリポストする場合もあります。全てのメンバー企業の情報をチェックするのは大変ですので、まずはUECの LinkedIn アカウントをフォローするのも良い方法です。</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_uec_blog">UEC BLOG</h4>
<div class="paragraph">
<p>UECの活動や技術内容を理解するために参考になりそうなBLOG記事を抜粋しました。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>March 18, 2024: UEC Progresses Towards v1.0 Set of Specifications</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://ultraethernet.org/uec-progresses-towards-v1-0-set-of-specifications/" class="bare">https://ultraethernet.org/uec-progresses-towards-v1-0-set-of-specifications/</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>August 29, 2024: Ultra Ethernet Specification Update</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://ultraethernet.org/ultra-ethernet-specification-update/" class="bare">https://ultraethernet.org/ultra-ethernet-specification-update/</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>November 14, 2024, Interview of UEC Chair, J Metz (By Next Platform, but also on UEC blog)</p>
<div class="ulist">
<ul>
<li>
<p>The Collaboration That Will Drive Ethernet Into The HPC And AI Future</p>
</li>
<li>
<p>Part#1: <a href="https://www.nextplatform.com/2024/11/12/the-collaboration-that-will-drive-ethernet-into-the-hpc-and-ai-future/" class="bare">https://www.nextplatform.com/2024/11/12/the-collaboration-that-will-drive-ethernet-into-the-hpc-and-ai-future/</a></p>
</li>
<li>
<p>Part#2: <a href="https://www.nextplatform.com/2024/11/14/uec-doesnt-want-to-kill-infiniband-but-it-wants-ethernet-to-beat-it/" class="bare">https://www.nextplatform.com/2024/11/14/uec-doesnt-want-to-kill-infiniband-but-it-wants-ethernet-to-beat-it/</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_uecが参加したカンファレンスの一覧スライドやビデオのアーカイブ">UECが参加したカンファレンスの一覧（スライドやビデオのアーカイブ）</h4>
<table id="uec-conference-link" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. UECが参加したカンファレンスの一覧（スライドやビデオのアーカイブ）</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">カンファレンス</th>
<th class="tableblock halign-left valign-top">リンク</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OCP2024 (Open Compute Project)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://www.opencompute.org/events/past-events/2024-ocp-global-summit" class="bare">https://www.opencompute.org/events/past-events/2024-ocp-global-summit</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Leveraging UEC for Next Generation AI Networks (video 37min)</p>
<div class="ulist">
<ul>
<li>
<p>Presented by UEC: Uri Elzur, Intel (Architect, Computer Networks, GPU Networks)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Overview of Ultra Ethernet (video 15min)</p>
<div class="ulist">
<ul>
<li>
<p>Presented by UEC, J Metz, AMD (Chair Steering Committee, UEC)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Accelerating AI/HPC: OCP and UEC&#8217;s Collaborative Vision for High-Performance Networking (video 22min, slides)</p>
<div class="ulist">
<ul>
<li>
<p>J Metz, AMD (Chair Steering Committee, UEC)</p>
</li>
<li>
<p>Uri Elzur, Intel (Architect, Computer Networks, GPU Networks)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Future of AI Networks: UAI and Ultra Ethernet (video 26min, slides)</p>
<div class="ulist">
<ul>
<li>
<p>J Metz, AMD (Chair Steering Committee, UEC)</p>
</li>
<li>
<p>Kurtis Bowman (AMD, Director, Architecture and Strategy)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC24 (Super Computing)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://sc24.supercomputing.org/program/proceedings-archives/" class="bare">https://sc24.supercomputing.org/program/proceedings-archives/</a></p>
</div>
<div class="paragraph">
<p>注：アーカイブへのアクセスは有料の登録者のみ</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Industry Standards Working Together to Accelerate Innovation in AI and HPC</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://sc24.supercomputing.org/proceedings/panel/panel_pages/pan114.html" class="bare">https://sc24.supercomputing.org/proceedings/panel/panel_pages/pan114.html</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NANOG 92 (2024年10月)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://nanog.org/events/nanog-92/" class="bare">https://nanog.org/events/nanog-92/</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Keynote: Networking for AI and HPC, and Ultra Ethernet</p>
<div class="ulist">
<ul>
<li>
<p>Hugh Holbrook, Arisa Networks (VP Software Engineering)</p>
</li>
<li>
<p>Video: <a href="https://youtu.be/0roIi1pscts?si=XmZAjfBFM3CibWBb" class="bare">https://youtu.be/0roIi1pscts?si=XmZAjfBFM3CibWBb</a></p>
</li>
<li>
<p>Slide: <a href="https://storage.googleapis.com/site-media-prod/meetings/NANOG92/5182/20241021_Holbrook_Keynote_Networking_For_v1.pdf">20241021_Holbrook_Keynote_Networking_For_v1.pdf</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HOTI31 （2024年） (Hot Interconnects)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://ieeexplore.ieee.org/xpl/conhome/10664198/proceeding" class="bare">https://ieeexplore.ieee.org/xpl/conhome/10664198/proceeding</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Day 2: Invited Talk: Ultra Ethernet Consortium (UEC) overview</p>
<div class="ulist">
<ul>
<li>
<p>Uri Elzur, Intel</p>
</li>
<li>
<p>Video: <a href="https://www.youtube.com/watch?v=LtifmYChRTo" class="bare">https://www.youtube.com/watch?v=LtifmYChRTo</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_uec関連団体">UEC関連団体</h3>
<div class="paragraph">
<p>UECはLinux Foundation以外にも、以下の団体と連携をとりながら仕様策定を進めています。
連携の密度は団体毎に濃淡がありますが、UECの技術を深く理解したい場合には、これら団体の動向や技術も参考にすると良いでしょう。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Open Compute Project (OCP)</dt>
<dd>
<p>OCPはコンピュート・インフラへの要求を効率的にサポート可能なハードウェアの仕様や設計のオープンソース化を進める非営利団体です。
2011年にFacebook(元Meta)が自社設計のデータセンター機器の設計仕様書を公開したことに始まります。
公開された仕様書を元にハードウェアベンダが機器を提供可能にしたことにより、コスト削減と調達のしやすさが向上しました。
サーバーやストレージ、ネットワークなどの製品分野ごとにプロジェクトが存在し、参加企業による新規開発や設計仕様書の公開が進んでいます。
ネットワークの分野の例としては、ホワイトボックススイッチやそれを制御するスイッチOS（SONiC等）の開発が行われています。
（SONiCは2022年にLinux Foundationに移籍しました）
年1回の OCP Global Summit を始め、OCPのカンファレンスでは多くのUEC関連セッションが開催され、UECの動向理解の参考になります。</p>
<div class="ulist">
<ul>
<li>
<p>OCPホームページ： <a href="https://www.opencompute.org/" class="bare">https://www.opencompute.org/</a></p>
</li>
<li>
<p>OCP Global Summit (スライドや動画アーカイブ): <a href="https://www.opencompute.org/summit/global-summit" class="bare">https://www.opencompute.org/summit/global-summit</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">OpenFabrics Alliance (OFA)</dt>
<dd>
<p>The OpenFabrics Alliance (OFA) は、高性能ネットワーキング技術を推進する業界団体です。主にデータセンター、ハイパフォーマンスコンピューティング（HPC）、クラウドインフラストラクチャ向けに、RDMA (Remote Direct Memory Access) やInfiniBand、iWARP、RoCE などのネットワーキング技術の普及を支援しています。
また、オープンソースソフトウェア（OFED: OpenFabrics Enterprise Distribution）を提供しています。
OpenFabrics Interfaces Working Group では、Open Fabrics Interfaces (OFI) とも呼ばれる <code>libfabric</code> <sup class="footnote">[<a id="_footnoteref_8" class="footnote" href="#_footnotedef_8" title="View footnote.">8</a>]</sup> ライブラリを開発しています。</p>
<div class="ulist">
<ul>
<li>
<p>OFAホームページ： <a href="https://www.openfabrics.org/" class="bare">https://www.openfabrics.org/</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ULTRA ACCELERATOR LINK (UALink)</dt>
<dd>
<p>Ultra Accelerator Link™ (UALink™) は、アクセラレーター間を接続するオープンな業界標準の内部インターコネクトです。
2024年の時点では、UECはイーサネットを外部インターコネクトとして利用したスケールアウト技術を策定しており、スケールアップに必要な内部インターコネクト技術はUALinkなど、UECではなく、他団体の技術を活用する前提となっています。</p>
<div class="ulist">
<ul>
<li>
<p>UALink Consortiumホームページ： <a href="https://www.ualinkconsortium.org/" class="bare">https://www.ualinkconsortium.org/</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Storage Networking Industry Association (SNIA)</dt>
<dd>
<p>SNIAは、ストレージを中心とした情報管理に関連する技術標準を開発や教育プログラムを提供する業界団体です。
UEC Storage Working Groupが存在するように、UECの技術はストレージにも活用されることを想定し、技術策定を進めています。</p>
<div class="ulist">
<ul>
<li>
<p>SNIAホームページ： <a href="https://www.snia.org/" class="bare">https://www.snia.org/</a></p>
</li>
<li>
<p>SNIA日本支部： <a href="https://www.snia-j.org/" class="bare">https://www.snia-j.org/</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">IEEE</dt>
<dd>
<p>IEEE（アイ・トリプル・イー）にはイーサネットに関連する技術を扱うワーキンググループが存在します。
例えば IEEE 802.3 は、有線イーサネットの物理層とデータリンク層のメディアアクセス制御（MAC）を定義するワーキンググループです。
また、IEEE 802.1 では、UECで拡張が検討されている LLDP (IEEE 802.1AB) の標準を策定しています。</p>
<div class="ulist">
<ul>
<li>
<p>IEEEホームページ： <a href="https://www.ieee.org/" class="bare">https://www.ieee.org/</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_uec取り組みの背景">UEC取り組みの背景</h3>
<div class="paragraph">
<p>本セクションでは、UECホワイトペーパー <sup class="footnote">[<a id="_footnoteref_9" class="footnote" href="#_footnotedef_9" title="View footnote.">9</a>]</sup> の内容を元にUECの目的や取り組んでいる技術について紹介します。</p>
</div>
<div class="sect3">
<h4 id="_uec取り組みの背景_に含まれる情報について">"UEC取り組みの背景" に含まれる情報について</h4>
<div class="paragraph">
<p>"UEC取り組みの背景" で紹介している内容は、2023年にUECから発表された "UECホワイトペーパー" <sup class="footnote">[<a id="_footnoteref_10" class="footnote" href="#_footnotedef_10" title="View footnote.">10</a>]</sup> を元に執筆しています。
また、その他の内容も、UECホームページやカンファレンスでの発表資料など、公開情報を元にまとめています。</p>
</div>
<div class="paragraph">
<p>UECでは2025年Q1のリリースに向けて仕様策定が進められており、様々な議論が行われている状況です。
そのため、仕様がリリースされるまでの間に、記載の内容から変更がある可能性があります。
UEC技術の利用検討の際には、UEC技術仕様を含め最新の情報に当たるようにしてください。</p>
</div>
</div>
<div class="sect3">
<h4 id="_イーサネットのアドバンテージ">イーサネットのアドバンテージ</h4>
<div class="paragraph">
<p>イーサネットのアドバンテージとして、以下のような項目が挙げられています。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>複数のベンダーが参加するエコシステムにより、互換性のあるイーサネットスイッチ、NIC、ケーブル、トランシーバー、光学デバイス、管理ツール、ソフトウェアが広く提供されている。</p>
</li>
<li>
<p>IPネットワーク（ルーティング）の拡張性が実証されており、ラック規模、建物規模、データセンター規模のネットワークを実現可能。</p>
</li>
<li>
<p>イーサネットネットワークをテスト、測定、展開、効率的に運用するための幅広いツールが存在する。</p>
</li>
<li>
<p>競争のあるエコシステムと規模の経済により、コスト削減が実現されてきた実績がある。</p>
</li>
<li>
<p>IEEEイーサネット標準が、多くの物理層および光学層において迅速かつ定期的に進化を遂げる能力が実証されている。</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>このようなイーサネットのアドバンテージを活用し、</p>
</div>
<div class="ulist">
<ul>
<li>
<p>スループットの最大化</p>
</li>
<li>
<p>Tail Latency の最小化</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>といった目標を達成するために必要なネットワークの要件として以下を挙げ、実現する技術を策定しています。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>マルチパスとパケットスプレー</p>
</li>
<li>
<p>Flexible Ordering （柔軟な配信順序）</p>
</li>
<li>
<p>AIやHPCに最適化された輻輳制御メカニズム</p>
</li>
<li>
<p>エンドツーエンドのテレメトリ</p>
</li>
<li>
<p>大規模化、安定性、信頼性</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_マルチパスとパケットスプレー">マルチパスとパケットスプレー</h4>
<div class="paragraph">
<p>従来のイーサネットネットワークでは、スパニングツリープロトコルにより1つの経路しか利用できない状況が続いてました。
その後、データセンターファブリックでは、ノード（スイッチ）間を Layer 3 (IP) で接続する事により、Equal-Cost Multipath (ECMP) のような技術を利用し複数のパスを利用できるようになりました。
ECMPは通常ハッシュを用いてトラフィックの振り分けをするため、トラフィックの偏りが生じるデメリットがあります。
また、パケットのリオーダーを防ぐために、同じフロー（Layer 4: TCP,UDP セッション）のトラフィックは同じパスを通す必要があります。
そのため、フロー数が少ないとハッシュ計算の元となるヘッダ情報が同じトラフィックが増える事により、偏りが顕著になります。</p>
</div>
<div class="paragraph">
<p>近年では Dynamic Load Balancing (DLB) のように各ポートの使用率などから動的に利用するパスの振り分けを行う機能もありますが、ノードが多段になった場合、ネットワーク全体で最も負荷の低いパスを確実に選択する事は困難です。</p>
</div>
<div class="paragraph">
<p>そのため、UECでは全てのパスにパケットを分散させる "packet spraying" （パケットスプレー）という技術を採用しています。
パケットスプレーの難点はパケットのリオーダーが発生する事ですが、これにはトランスポート層（UET）で対応しています。</p>
</div>
</div>
<div class="sect3">
<h4 id="_flexible_ordering_柔軟な配信順序">Flexible Ordering （柔軟な配信順序）</h4>
<div class="paragraph">
<p>RoCEv2など、従来の技術ではパケットが送信された順に受信する必要があります。
具体的には、パケットのリオーダーやパケットロスによりアウトオブオーダーパケットが発生すると、Go-Back-N により順序通り届かなかったパケット以降の全てのパケットを再送する必要があります。
これにより、利用可能なスイッチ間リンクの利用率低下やテールレイテンシの増加が発生し、ジョブ完了までにより多くの時間が必要となります。</p>
</div>
<div class="paragraph">
<p>しかし、理想的にはすべてのリンクが使用され、AIのワークロードがそれを必要とする場合にのみ順序が強制されるべきです。</p>
</div>
<div class="paragraph">
<p>AIワークロードにおける集団通信の操作は、 All-Reduce や All-to-All が多くを占めます。
これらの操作完了を早くする鍵は高速なバルク通信（データ転送）であり、AIアプリケーションにとって "メッセージの全てのデータが届いたか？" が重要であり、データの到着順序は重要ではありません。</p>
</div>
<div class="paragraph">
<p>Flexible Ordering は、パケット到着順序の制約を緩和する事で、データ転送を効率化します。
例えば、パケットスプレーを行った時に発生するアウトオブオーダーパケットのリオーダリングが不要になります。</p>
</div>
</div>
<div class="sect3">
<h4 id="_aiやhpcに最適化された輻輳制御メカニズム">AIやHPCに最適化された輻輳制御メカニズム</h4>
<div class="paragraph">
<p>輻輳が発生する場所は、以下3か所に分類できます。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>送信元サーバーとスイッチ間のリンク</p>
</li>
<li>
<p>スイッチファブリックの内部（送信元と送信先サーバーが接続されているスイッチ間の経路）</p>
</li>
<li>
<p>送信先サーバーとスイッチ間のリンク（Incast）</p>
</li>
</ol>
</div>
<div id="uec_congestion_point_png" class="imageblock">
<div class="content">
<img src="images/uec_congestion_point.png" alt="Congestion Point">
</div>
<div class="title">Figure 1. 輻輳発生場所の分類</div>
</div>
<div class="paragraph">
<p>"1. 送信元サーバーとスイッチ間のリンク" の輻輳は、送信元サーバーが全ての送信トラフィックを把握可能なため、制御が可能です。</p>
</div>
<div class="paragraph">
<p>"2. スイッチファブリックの内部" の輻輳はマルチパスとパケットスプレーにより最小化されます。</p>
</div>
<div class="paragraph">
<p>"3. 送信先サーバーとスイッチ間のリンク（Incast）" は All-to-All 操作など、複数の送信元から同じ送信先にデータ転送される際に発生します。
この Incast による輻輳制御のために DCQCN 等のアルゴリズムが用いられてきましたが十分ではなく、以下のような要件を満たす輻輳制御メカニズムが必要と考えられます。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">転送レートの立ち上がりの速さ</dt>
<dd>
<p>広帯域かつ低遅延のネットワークで、既存のトラフィックのパフォーマンスを低下させることなく、転送開始時に速やかにワイヤ・レートまで送信速度を上げること。</p>
</dd>
<dt class="hdlist1">最終リンクの公平な共有</dt>
<dd>
<p>パケットロスや再送信、テールレイテンシの増加を招くことなく、最終リンクを公平に共有することで Incast を制御可能なこと。</p>
</dd>
<dt class="hdlist1">設定やチューニングの最小化</dt>
<dd>
<p>トラフィックミックスの変化、コンピュートノードの進化、リンク速度の向上、ハードウェアの進化に応じて、（DCQCNでは必要であった）チューニングや設定を必要としない（最小化する）こと。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>UECでは、これらの要件をサポートし、マルチパスやパケットスプレーと連動するような将来のAIワークロードのための輻輳制御アルゴリズム（UET）を設計しています。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">注</dt>
<dd>
<p>将来的には、マルチテナンシーサービスを実現するために、送信元サーバーの仮想化やネットワークのパーティションが必要になった場合など、輻輳発生場所が変わってくる可能性があります。</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_エンドツーエンドのテレメトリ">エンドツーエンドのテレメトリ</h4>
<div class="paragraph">
<p>輻輳制御アルゴリズムの最適化は、エンドツーエンドのテレメトリによって実現されます。
送信元もしくは送信先が転送スケジュールを管理する際に、ネットワークノード（スイッチ）からパケット送信スケジューラーやペーサーへの輻輳通知を迅速に行うことにより、輻輳制御アルゴリズムの反応性や正確性が向上します。</p>
</div>
<div class="paragraph">
<p>これにより、輻輳が緩和され、パケットの取りこぼしが減り、キューが小さくなるなど、テールレイテンシの改善が可能になります。</p>
</div>
</div>
<div class="sect3">
<h4 id="_大規模化安定性信頼性">大規模化、安定性、信頼性</h4>
<div class="paragraph">
<p>UECでは、100万のエンドポイントまで対応可能なスケーラビリティを目標としています。</p>
</div>
</div>
<div class="sect3">
<h4 id="_ロスレスファブリックの課題">ロスレスファブリックの課題</h4>
<div class="paragraph">
<p>ロスレスイーサネットを前提としたRoCEは広くデプロイされてきましたが、最大限の性能を引き出すためには専門家によるチューニングや運用監視が必要であり、総所有コスト（TCO）の削減が困難です。</p>
</div>
<div class="paragraph">
<p>また、ロスレス実現のためPFCを用いたパケット転送の一時停止には、以下のような課題があります。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">HOLブロッキング（Head-Of-Line Blocking）</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>HOLブロッキングとは、キュー内の先頭パケットが転送されるポートが輻輳している場合、他のパケットが転送可能であってもキュー全体がブロックされる現象です。</p>
</li>
<li>
<p>PFCは特定の優先度のトラフィックを一時停止させるため、これがキュー内での先頭データの滞留を引き起こし、後続のトラフィックもブロックされます。</p>
</li>
<li>
<p>これにより、スループットの低下、遅延の増加、といった影響があります。</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">輻輳伝播（congestion spreading）</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>あるリンクで輻輳（例: バッファが満杯になる）が発生すると、そのリンクはデータを受信できなくなり、上流デバイスに PAUSE フレームを送信します。</p>
</li>
<li>
<p>その結果、上流デバイスも同様に輻輳が生じ、さらにその上流に PAUSE フレームを送信します。</p>
</li>
<li>
<p>このように輻輳の伝播が発生し、輻輳の影響が最初に発生した一部のリンクに留まらず、ネットワーク全体に波及することがあります。</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">デッドロックの発生</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>複数のデバイスが互いに PAUSE フレームを送り合う状況に陥ると、ネットワーク全体が停止する "デッドロック" が発生することがあります。</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>UECは、これらのパケットロスの防止やリカバリ、輻輳制御といった課題はトランスポート層で解決されるべきと考え、RoCEv2を置き換える UET (Ultra Ethernet Transport) 、UETと協調して利用されるネットワーク層の技術、イーサネットの拡張技術（リンク層）、In Network Collectives (INC)、等の開発を進めています。</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_uec_technology_overview_全体像やトピック毎の詳細解説">UEC Technology Overview （全体像やトピック毎の詳細解説）</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本章では、最初にUECが取り組む技術の全体像を俯瞰し、各レイヤーでどのような技術の開発が進められているかを紹介します。</p>
</div>
<div class="paragraph">
<p>その後、更に技術を深掘りした人向けに、UECで仕様策定が進められている各技術の詳細を解説します。</p>
</div>
<div class="sect2">
<h3 id="_uec技術の全体像">UEC技術の全体像</h3>
<div class="paragraph">
<p>UECでは、イーサネットをAI/HPCアクセラレータのノード間インターコネクトとして利用する際に重要なRMAを高性能かつ効率的に行うために、トランスポートレイヤーからリンクレイヤーにかけ、幅広いレイヤーで技術開発が行われています。
その中には、既存の RMA over Ethernet 技術であるRoCEv2の運用経験からくる改善点を含みます。</p>
</div>
<div id="uec_tech_stack_png" class="imageblock">
<div class="content">
<img src="images/uec_tech_stack.png" alt="UEC Technology Stack">
</div>
<div class="title">Figure 2. UECの技術スタックとRoCEv2との比較</div>
</div>
<div class="paragraph">
<p>最も大きな特徴は、図：<a href="#uec_tech_stack">[uec_tech_stack]</a> のようにトランスポートレイヤーをRoCEv2から、新しく策定した UET (Ultra Ethernet Transport) に置き換えたことです。
UETでは、モダンなHPC向け RMA API でありHPCアプリケーションで幅広く利用されている libfabric API を採用し、拡張しています。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>図：<a href="#uec_tech_stack_png">UECの技術スタックとRoCEv2との比較</a> は Libfabric API を前提としたスタックとなっていることに注意してください。
Libfabricを利用しているアプリケーションやミドルウェアはAPI拡張への対応でUEC技術を利用可能な場合もありますが、Libfabricを利用していないアプリケーションやミドルウェアの場合、UETをサポートするために大きな変更（プログラムの改修）が必要となる可能性があります。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>UETは名前の通り輻輳制御などを担うトランスポートレイヤーの技術ですが、効率的なトランスポートプロトコルやアルゴリズムを実現するために、ネットワークレイヤーでも新しい技術が開発され、密に連携しながら動作しています。</p>
</div>
<div class="paragraph">
<p>そのため、<strong>ネットワークレイヤーの技術であっても、UETの利用が前提となっています。</strong></p>
</div>
<div class="paragraph">
<p>但し、UEC技術のインクリメンタルな採用が可能なように、ネットワークレイヤー以下の機能はオプショナルとなっており、既存のスイッチでもUET自体は利用可能です。</p>
</div>
<div class="paragraph">
<p>その他、In Network Collectives (INC) と呼ばれる、スイッチファブリック内で集合計算の一部を実行する技術も開発されています。
また、AI/HPCにより生成されたモデルや、モデル作成に利用するデータのビジネス的な重要性が増していることから、セキュリティ機能も追加されています。
（セキュリティ機能に関しては解説は省略しています)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>AI/HPCワークロードでのアプリケーションは、データをパケットでは無くメッセージ単位で送受信（指示）するため、効率的なデータ送受信のためにはメッセージ境界を意識した方式が必要になります。メッセージは1つまたは複数のパケットから構成されるため、メッセージまたはパケットどちら（もしくは両方）の順序が意味を持つのか、順序に依存しないのか、を意識することが重要です。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_uec_profile">UEC Profile</h4>
<div class="paragraph">
<p>UECでは、AIやHPCなど異なるワークロードに対応可能な技術仕様を策定しています。
また、前述の通り、UEC技術の全てが必須サポートではなく、オプショナルとして定義された技術や機能があります。</p>
</div>
<div class="paragraph">
<p>UECではプロファイルを定義することで、ワークロードの種類毎に必要な技術や機能を選択的に利用可能になっています。</p>
</div>
</div>
<div class="sect3">
<h4 id="_将来的に検討が進められている技術公開情報のみ記載">将来的に検討が進められている技術（公開情報のみ記載）</h4>
<div class="paragraph">
<p>UECでは2025年Q1に公開予定の version 1.0 以降も開発は続けられ、将来的には以下のようなユースケースや機能の拡張が段階的に行われていく予定です。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ストレージへの適用</p>
<div class="ulist">
<ul>
<li>
<p>Storage APIs on UET</p>
</li>
</ul>
</div>
</li>
<li>
<p>管理機能</p>
<div class="ulist">
<ul>
<li>
<p>OpenConfig や RedFish による設定管理</p>
</li>
</ul>
</div>
</li>
<li>
<p>テレメトリー機能</p>
<div class="ulist">
<ul>
<li>
<p>Congestion Signaling (CSIG) <sup class="footnote">[<a id="_footnoteref_11" class="footnote" href="#_footnotedef_11" title="View footnote.">11</a>]</sup> や Back to Sender (BTS) <sup class="footnote">[<a id="_footnoteref_12" class="footnote" href="#_footnotedef_12" title="View footnote.">12</a>]</sup></p>
</li>
</ul>
</div>
</li>
<li>
<p>その他</p>
<div class="ulist">
<ul>
<li>
<p>性能測定やデバッグ手法の標準化</p>
</li>
<li>
<p>プロファイル毎のコンプライアンステスト（オプショナルな機能を含む）</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_レイヤー毎のuec技術一覧">レイヤー毎のUEC技術一覧</h4>
<div class="paragraph">
<p>表：<a href="#uec_tech_by_layer">レイヤー毎のUEC技術一覧</a> に、現在検討が進められていることが公表されているUEC技術をレイヤー毎にまとめました。
（UETを中心に他レイヤーの技術に依存している機能もありますので、各技術毎に中心となるレイヤーに分類してあります。）</p>
</div>
<div class="paragraph">
<p>以降、それぞれの技術について概要を解説していきます。</p>
</div>
<table id="uec_tech_by_layer" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. レイヤー毎のUEC技術一覧</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Layer</th>
<th class="tableblock halign-left valign-top">Features</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">（Libfabric とUEC拡張に対応した様々なAI/HPCアプリケーション）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Software APIs</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Libfabric 2.0 の拡張</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transport</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>UET (Ultra Ethernet Transport)</p>
<div class="ulist">
<ul>
<li>
<p>Posted Buffer (out-of-order delivery)</p>
</li>
<li>
<p>Fast Ramp and Slowdown</p>
</li>
<li>
<p>Ephemeral Connections</p>
</li>
<li>
<p>Receiver-generated Credit (manage incast)</p>
</li>
<li>
<p>Optimistic Transmission (before credits received)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Security (encription, host-level security and authorization)</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network Layer (IP)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Packet Trimming</p>
</li>
<li>
<p>Packet Spray</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Link Layer (Ethernet)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Link Layer Retransmit (LLR)</p>
</li>
<li>
<p>LLDP (capability negotiation)</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_uetaiやhpc向けトランスポートプロトコル">UET：AIやHPC向けトランスポートプロトコル</h3>
<div class="paragraph">
<p>ロスレスファブリックの課題を解決し、ロスレスを必要としないトランスポートプロトコルとして、Ultra Ethernet Transport (UET) が開発されました。</p>
</div>
<div class="paragraph">
<p>UETは以下の要件を満たすよう設計されています。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>IPおよびイーサネット上で動作することを最初から設計された、オープンなプロトコル仕様</p>
</li>
<li>
<p>ネットワークやワークロード固有の輻輳アルゴリズムのチューニング（パラメータ調整）が不要</p>
</li>
<li>
<p>集中型の負荷分散アルゴリズムやコントローラーが不要</p>
</li>
<li>
<p>マルチパスおよびパケットスプレーの採用（輻輳やヘッドオブラインブロッキングの防止）</p>
</li>
<li>
<p>インキャスト管理メカニズム（ファンインを最小限のドロップで制御）</p>
</li>
<li>
<p>効率的なレート制御アルゴリズム（迅速にワイヤレートに到達可能）</p>
</li>
<li>
<p>順序の異なるパケット配信を可能とするAPI（オプションで順序通りの配信もサポート）</p>
<div class="ulist">
<ul>
<li>
<p>ネットワークとアプリケーションの並行性の最大化</p>
</li>
<li>
<p>メッセージ遅延の最小化</p>
</li>
</ul>
</div>
</li>
<li>
<p>将来のネットワークに対応し、100万のエンドポイントをサポート可能なスケーラビリティ</p>
</li>
<li>
<p>800G、1.6T、さらには将来のより高速なイーサネットで、市販のハードウェアを使用したワイヤレート性能が達成可能な設計</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>これら要件を実現するため、UETはトランスポートレイヤーに留まらず、セマンティックレイヤー（Semantic Layer）も拡張しています。
そのため、Libfabric などのライブラリの対応も必要となりますが、UECでは Libfabric Provider の参照実装を公開予定です。</p>
</div>
<div class="paragraph">
<p>このように、UETはUECの中核となる技術でありRoCEv2を置き換えることから影響範囲が大きいため、利用する際にはどのコンポーネントの変更が必要か、十分な理解が必要です。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>パケットスプレーやそのために必要なFlexible Orderingの他、後述するトリミング（Packet Trimming）やエフェメラルコネクション（Ephemeral connections）といった技術は、従来のDCQCN(+RoCEv2)では利用できず、トランスポートプロトコルとしてUETが利用されていることが必要です。</p>
</li>
<li>
<p>Libfabric では "エンドポイント（endpoint）" は Socket API (TCP/UDP) のソケットに該当します。そのため、スケーラビリティで "100万エンドポイント" は必ずしも100万ノードを意味しません。</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_packet_spray_posted_buffer">Packet Spray (Posted Buffer)</h4>
<div class="paragraph">
<p>スイッチにおけるハッシュの偏りを防ぐために Dynamic Load Balancing (DLB) などの技術が利用されていますが、パケットのリオーダリングを防ぐため flowlet を認識するためのidle閾値、パスの品質判定のための使用帯域の閾値の粒度など、様々なパラメーターに依存し、ワークロード毎に応じたチューニングが必要と言われています。<em>[NOTE]</em></p>
</div>
<div class="paragraph">
<p>UETではこれらを不要にするために、利用可能な全てのパスを利用してパケットを送信する "Packet Spray" 方式を採用しています。
Packet Spray は、 multipathing や out-of-order delivery (OOO) とも呼ばれます。</p>
</div>
<div class="paragraph">
<p>本方式により発生するパケットのリオーダリングには、（スイッチなどネットワークファブリックではなく）サーバーサイド（トランスポートレイヤー）で対応しています。
効率的にリオーダーに対応するため、UETでは "Posted Buffer" を採用しています。
（プロダクション環境では、トランスポートレイヤーの処理はNICにオフロードされることが想定されます）</p>
</div>
<div class="paragraph">
<p>Posted Buffer とは、パケット毎に書き込むバッファのIDが振られており、どの順番で受信しても正しいバッファにデータが書き込まれる方式です。
これにより、パケット受信後のリオーダー処理が不要となり、途中のパケット受信を待つことなく、直接受信プロセスのメモリへの書き込み（RMA）が可能となります。</p>
</div>
<div id="uec_tech_posted_buffer_png" class="imageblock">
<div class="content">
<img src="images/uec_tech_posted_buffer.png" alt="Packet Spray" width="90%">
</div>
<div class="title">Figure 3. Posted Buffer</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>既存環境でのチューニングの必要性については、<a href="#uec-using.adoc">UECを利用するための検討ポイント</a> で考察しています。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_packet_trimming_optional">Packet Trimming (optional)</h4>
<div class="paragraph">
<p>トランスポートレイヤーにおけるパケットロスの検知には、以下のような方法があります。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>out-of-order (OOO) パケットの検知</p>
</li>
<li>
<p>timeout （タイムアウト）</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>しかし、Packet Spray ではOOOを許容しているため、OOOを用いたパケットロスの検知ができません。
また、タイムアウトを利用する場合、Packet Sprayでは様々なパスを経由するため、遅延の揺らぎを考慮しある程度余裕を持ったタイムアウト値にする必要があり、パケットロス検知までに時間が長くなり性能に悪影響を及ぼします。</p>
</div>
<div class="paragraph">
<p>そのため、UECではパケットロスを検知する新しい方法として "Packet Trimming" を採用しました。</p>
</div>
<div class="exampleblock">
<div class="content">
<div id="uec_tech_packet_trimming_nanog92_png" class="imageblock">
<div class="content">
<img src="images/uec_tech_packet_trimming_nanog92.png" alt="uec tech packet trimming nanog92">
</div>
<div class="title">Figure 4. Packet Trimming の動作：NANOG92 <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> の図を引用。解説は著者により日本語訳</div>
</div>
<div class="ulist">
<ul>
<li>
<p>ドロップする代わりに 64byte に切り捨て（Trim）</p>
</li>
<li>
<p>DSCPを "trimmed" としてマーク</p>
</li>
<li>
<p>高優先キューを用いて送信（enqueue）</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Packet Trimming はスイッチの機能で、図：<a href="#Packet Trimming の動作">[Packet Trimming の動作]</a> のように輻輳が発生した場合にパケットをドロップするのではなく、パケットをトランスポートレイヤーで一意に認識可能な必要最小限のヘッダ情報を残し切り捨て（Trim, Truncate）、高優先キューを用いて転送します。
これにより、"輻輳が発生し" "パケットがドロップされた" という情報を素早く受信側に伝え、再送要求や送信ペースの調整といった輻輳回避を含む対応をタイムアウト方式に比べ低遅延で実行可能になります。</p>
</div>
<div class="paragraph">
<p>本機能は、特にLLM等のAIワークロードではメッセージサイズ（パケットサイズ）が大きいため効果的です。
（例えば4096バイトパケットを64バイトに Trim した場合、64倍のデータ削減になります）</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Packet Trimming は、Broadcom Tomahawk 5 では Drop Congestion Notification (DCN) という機能名でサポート済みです。 <sup class="footnote">[<a id="_footnoteref_13" class="footnote" href="#_footnotedef_13" title="View footnote.">13</a>]</sup></p>
</li>
<li>
<p>SAIへの追加は "PR#2077 Add packet trimming API" <sup class="footnote">[<a id="_footnoteref_14" class="footnote" href="#_footnotedef_14" title="View footnote.">14</a>]</sup> で議論されており、デザイン文書 "SAI-Proposal-Packet-Trimming.md" <sup class="footnote">[<a id="_footnoteref_15" class="footnote" href="#_footnotedef_15" title="View footnote.">15</a>]</sup> が参考になります。</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_uetの輻輳制御アルゴリズム">UETの輻輳制御アルゴリズム</h4>
<div class="paragraph">
<p>AI/HPCワークロードの特性として、データ転送と計算を何度も繰り返す事に加え、Packet Spray により広帯域を利用可能なことから、"大きなデータを短時間で送受信" するという特徴があります。
例えば、800Gbpsの帯域を利用可能な場合、1MBのデータ送信は10usecで完了します。</p>
</div>
<div class="paragraph">
<p>このため、TCPのスロースタートといったアルゴリズムではなく、AI/HPCワークロードに適した以下特徴を持つ輻輳制御アルゴリズムを採用しています。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">UETの輻輳制御アルゴリズムの特徴</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Fast Ramp: 送信開始時、最速でワイヤーレートまで転送レートを上げる</p>
</li>
<li>
<p>Fast Slowdown: 輻輳検知時、素早い送信レートの削減（back off）</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>また、オプションとして受信側での輻輳制御機能も存在します。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">受信側での輻輳制御機能</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>receiver-generated credit manages incast</p>
</li>
<li>
<p>optimistic transmission before credits received</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_ephemeral_connection_エフェメラルコネクション">Ephemeral Connection （エフェメラルコネクション）</h4>
<div class="paragraph">
<p>UETではセッション開始時の遅延を削減するために、Ephemeral Connection （エフェメラルコネクション）を採用しています。
直訳すると "儚いコネクション" であり、以下のような特徴を持ちます。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Ephemeral Connection の特徴</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>ハンドシェイクを不要とし、転送開始までの遅延を排除</p>
</li>
<li>
<p>コネクション毎のステートの削減</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div id="uec_tech_ephemeral_png" class="imageblock">
<div class="content">
<img src="images/uec_tech_ephemeral.png" alt="Ephemeral Connection">
</div>
<div class="title">Figure 5. Ephemeral Connection</div>
</div>
<div class="paragraph">
<p>AI/HPCワークロードでは、短い時間(ms~us)のコネクションが大量に発生するという特徴を持ちます。
そのため、コネクションの開始終了に必要な時間（遅延）を削減することが、性能向上に貢献します。</p>
</div>
<div class="paragraph">
<p>また、高速通信におけるトランスポートレイヤーの処理はNICへのオフロードが必須となっており、限られたリソースで多くのセッションを効率的に処理するために、コネクション毎のステートの削減は貴重なNICリソースの削減に大きな効果があります。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_イーサネットの拡張機能llr_cbfc_lldp">イーサネットの拡張機能（LLR, CBFC, LLDP）</h3>
<div class="paragraph">
<p>UECではリンクレイヤーであるイーサネットの拡張機能として、Link-Layer Retransmission (LLR) を開発しました。
また、LLRへの対応有無を含めたキャパビリティネゴシエーション手段として、LLDPを拡張しています。</p>
</div>
<div class="paragraph">
<p>これらはオプショナルな機能であるため、利用しない場合は既存のスイッチでUEC技術（UET）を利用可能です。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>UECのBlog <sup class="footnote">[<a id="_footnoteref_16" class="footnote" href="#_footnotedef_16" title="View footnote.">16</a>]</sup> などでは、Retransmission ではなく Retry を用いる場合もあります。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_link_layer_retransmission_optional">Link-Layer Retransmission (optional)</h4>
<div class="paragraph">
<p>Link-Layer Retransmission (LLR) は以下を目的として開発された、CBFC: Credit Based Flow Control を利用しリンクレベルでのパケットロスを防ぐ技術です。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ローカル再送（local retransmission）を行い end-to-end再送を不要にすることで tail latency を削減</p>
</li>
<li>
<p>リンクやトランシーバーの障害に対応</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>AI/HPCでは大量のトランシーバーを利用するため、リンクレイヤーの障害にどう対応するかも、性能や可用性向上に影響があると考えられます。</p>
</div>
<div id="uec_tech_llr_png" class="imageblock">
<div class="content">
<img src="images/uec_tech_llr.png" alt="Link-Layer Retransmission" width="90%">
</div>
<div class="title">Figure 6. Link-Layer Retransmission (LLR): NANOG92 <sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> の図を引用</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_in_network_collectives_inc">In Network Collectives (INC)</h3>
<div class="paragraph">
<p>In Network Collectives (INC) とは、Collective Communication Operation（集団通信操作）をネットワーク（スイッチファブリック）上のノードで実行することにより、遅延の削減やネットワーク帯域の消費を抑え、処理の高速化を実現する技術です。</p>
</div>
<div class="paragraph">
<p>一般的に INC は In-Network Computing (Computation) の略語として利用されており、集団通信操作に限定せず、ネットワーク内で計算を実行することにより効率化や高速化を図る技術であり、UECの In Network Collectives も技術の分類としては In-Network Computing に含まれます。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">INCの表記について</dt>
<dd>
<p>現状、UEC SW Working Group 内の議論では、In Network Collectives (INC) の In と Network の間にハイフン（<code>-</code>）を入れない表記を利用しているため、本文書でもあえて入れてません。
但し、UEC仕様検討の過程でハイフン有りになる可能性もあります。
2025年Q1にリリース予定のUEC INC仕様書が公開された以降は、そちらの文書で定義された Terminology に従いましょう。</p>
<div class="paragraph">
<p>逆に、In-Network Computing など、UEC外ではハイフンを入れることが多い（と著者は感じている）ため、ハイフンを入れています。
例えば NVIDIA の公式文書では In-Network Computing と表記しています。</p>
</div>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>先行技術としては Mellanox (元NVIDIA) が開発した Scalable Hierarchical Aggregation and Reduction Protocol (SHARP<sup>TM</sup>) がありますが、SHARP は InfiniBand でのみ動作し、NVIDIA製のNIC（ConnectX, BlueField）が必要となります。</p>
</div>
<div class="paragraph">
<p>これに対し、UECのINCはオープンな仕様で、マルチベンダのイーサネットスイッチ（ASIC）やNICで動作可能になる予定です。</p>
</div>
<div class="paragraph">
<p>UEC INC の詳細は公開されていませんが、SHARPとの違いは以下の通りで、概念的には非常に似ています。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>イーサーネット上で動作</p>
</li>
<li>
<p>データ転送にUETを用いる</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>そのため、仕様公開まではSHARPについて調査することで、UEC INCについてもある程度の動作をイメージすることが可能です。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SHARPポータルページ："NVIDIA Docs Hub &gt; NVIDIA Networking &gt; Accelerator Software" <sup class="footnote">[<a id="_footnoteref_17" class="footnote" href="#_footnotedef_17" title="View footnote.">17</a>]</sup></p>
</li>
<li>
<p>SHARPのオリジナル論文：IEEE Xplore "Scalable Hierarchical Aggregation Protocol (SHArP): A Hardware Architecture for Efficient Data Reduction" <sup class="footnote">[<a id="_footnoteref_18" class="footnote" href="#_footnotedef_18" title="View footnote.">18</a>]</sup> <sup class="footnote">[<a id="_footnoteref_19" class="footnote" href="#_footnotedef_19" title="View footnote.">19</a>]</sup></p>
<div class="ulist">
<ul>
<li>
<p>NVIDIAのWEBサイトからダウンロードできます <sup class="footnote">[<a id="_footnoteref_20" class="footnote" href="#_footnotedef_20" title="View footnote.">20</a>]</sup></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>上記のような公式ドキュメント以外にも、YouTubeにチュートリアルや研究発表のカンファレンス講演が掲載されていますので検索してみてください。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>In Network Collectives に関する、著者の個人的な感想メモです。
十分な理解ができておらず考えがまとまってないので、一緒に調査や考察をする人を募集中です。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>UECはマルチベンダのため、INCをサポートするスイッチASICやサーバーサイドのNIC、ミドルウェア、などが色々出てくると思われる。</p>
</li>
<li>
<p>そのため、導入検討や評価を行う際には、INCの実装間の比較や、SHARPとの比較をするポイントを整理する必要がある。</p>
</li>
<li>
<p>評価視点の例：</p>
<div class="ulist">
<ul>
<li>
<p>ワークロードの特徴を確認もしくは仮定した上で評価する必要がある。</p>
</li>
<li>
<p>HPCに比較し、AI(LLM)はメッセージサイズが大きい。</p>
</li>
<li>
<p>Switch ASIC のメモリは限られているため、AIワークロードのようにメッセージサイズが大きいと分割して転送、計算、結合、などする必要があるのでは？（仮説）</p>
</li>
<li>
<p>分割して計算するアルゴリズムは様々なものが考えられるので、同じINCでも、INC Switchとライブラリの組み合わせによってアルゴリズムが異なり、性能にも大きく影響することがあるのでは？</p>
</li>
<li>
<p>得意なワークロード、データサイズ、それによる性能の高低、などを判断し最適な実装を選択するには、INC Switchの実装と、MPI CC操作をINCで実行するアルゴリズムの、両方を深く理解する必要がありそう。この部分がUECで標準化されるかはまだ不明。</p>
</li>
</ul>
</div>
</li>
<li>
<p>これ参考になる？ Session 13 "Designing In-Network Computing Aware Reduction Collectives in MPI"</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.openfabrics.org/2024-ofa-virtual-workshop-agenda/" class="bare">https://www.openfabrics.org/2024-ofa-virtual-workshop-agenda/</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_uecを利用するための検討ポイント">UECを利用するための検討ポイント</h2>
<div class="sectionbody">
<div class="paragraph">
<p>従来のAI/HPCネットワーク技術からの大きな変更点として、UECではトランスポートをRoCEv2からUETに置き換えています。
そのため、UECの技術の利用検討にあたっては、ハードウェアとソフトウェアの両面で "変更（開発）が必要なものと既存のまま利用が可能なもの" を整理し、システム、サービス、構築や運用の人員、などへの影響と、変化によるメリットやデメリットを理解しながら進める必要があります。</p>
</div>
<div class="paragraph">
<p>本章では、UEC技術の利用検討を進める際のポイントを以下視点から整理しました。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>UECを利用することによる変化や注意点</p>
</li>
<li>
<p>UECを利用する際の検討ポイント</p>
</li>
<li>
<p>UEC仕様や製品のロードマップ、UEC対応製品（対応製品はどのベンダーからいつ提供されるか？）</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_まとめ">まとめ</h3>
<div class="ulist">
<ul>
<li>
<p>UECはRoCEv2をUETと置き換える "スタック全体の改善"</p>
<div class="ulist">
<ul>
<li>
<p>AIアプリケーションやミドルウェアを含め、影響範囲を理解することが重要</p>
</li>
<li>
<p>GPU, NIC, Switch ASIC, Switch OS, 等、様々なベンダと連携した技術検証が必要</p>
</li>
</ul>
</div>
</li>
<li>
<p>UECの各要素技術がリリースされるタイミングは様々</p>
<div class="ulist">
<ul>
<li>
<p>段階を追った技術検証が必要</p>
</li>
</ul>
</div>
</li>
<li>
<p>リンクやネットワークレイヤーの機能はオプショナルなものが多い</p>
<div class="ulist">
<ul>
<li>
<p>既存のイーサネットスイッチを利用した検証から開始可能</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_uecを利用することによる変化や注意点">UECを利用することによる変化や注意点</h3>
<div class="sect3">
<h4 id="_技術スタックの変化">技術スタックの変化</h4>
<div id="uec_tech_stack_png_using" class="imageblock">
<div class="content">
<img src="images/uec_tech_stack.png" alt="UEC Technology Stack">
</div>
<div class="title">Figure 7. UECの技術スタックとRoCEv2との比較</div>
</div>
<div class="paragraph">
<p>RoCEv2を用いたAI/HPCネットワーク技術とUECの最も大きな違いは、図：<a href="#uec_tech_stack_png_using">UECの技術スタックとRoCEv2との比較</a> のようにトランスポートレイヤーをRoCEv2から、新しく策定した UET (Ultra Ethernet Transport) に置き換えたことです。
UETでは、モダンなHPC向け RMA API でありHPCアプリケーションで幅広く利用されている libfabric API を採用し、拡張しています。</p>
</div>
<div class="paragraph">
<p>すなわち、libfabric を利用しているアプリケーションやミドルウェアはAPI拡張への対応でUEC技術を利用可能な場合もありますが、Libfabricを利用していないアプリケーションやミドルウェアの場合、UETをサポートするために大きな変更（プログラムの改修）が必要となる可能性があります。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>libfabric 以外のAPIへの対応も時々議論に上がりますが、現状では明確なロードマップはありません。
もし libfabric 以外のAPIへの対応が必要なユーザーが多い場合は議論が進む可能性がありますので、ユースケースや対応すると嬉しいライブラリなどUECメンバー企業に対してインプットすると良いでしょう。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>逆にIPやイーサネットに対する拡張はオプショナルな機能のみであるため、既存のスイッチでもUETは利用可能です。
但し、UETを活かした性能を得るためには、最低限 Packet Trimming などIPレイヤーの機能は対応が必要と考えられます。</p>
</div>
<div class="paragraph">
<p>また、Lossless Ethernet が不要となることにより、PFCバッファ設定のチューニングなどが不要となるため、ネットワーク層の設定は従来よりシンプルになると考えられます。
逆に、UETの実装である Libfabric Provider の安定性や性能はドライバを含めてNIC毎に異なる可能性があります。
そのため、サーバーサイドのチューニングの必要性は未知数であり、少なくとも初期段階では、NIC毎に検証が必要と予想されます。</p>
</div>
</div>
<div class="sect3">
<h4 id="_デバイス構成による利用可能な技術の比較">デバイス構成による利用可能な技術の比較</h4>
<div class="paragraph">
<p>UECを利用する場合はもちろん、従来のRoCEv2の場合でもデバイス構成により利用可能な技術が異なります。</p>
</div>
<div class="paragraph">
<p>図：<a href="#uec_ai_hpc_hw_matrix_png">AI/HPC Hardware Matrix</a> に、GPU/NIC/Switch の組み合わせに対し利用可能な技術を整理しました。
利用したい技術と必要な機材について検討する際に参考にしてください。</p>
</div>
<div class="paragraph">
<p>例えば、Adaptive Routing を利用するには NVIDIA で機材を揃える必要があります。
また、2025年1月時点でINCを利用するためには InfiniBand が必要となりますが、将来的にUEC対応のNICやSwitchを選択することでイーサネットでもINC利用可能になります。</p>
</div>
<div id="uec_ai_hpc_hw_matrix_png" class="imageblock">
<div class="content">
<img src="images/uec_ai_hpc_hw_matrix.png" alt="AI/HPC Hardware Matrix">
</div>
<div class="title">Figure 8. AI/HPC Hardware Matrix</div>
</div>
</div>
<div class="sect3">
<h4 id="_uec技術と関連するコンポーネントまとめ">UEC技術と関連するコンポーネント（まとめ）</h4>
<div class="paragraph">
<p>UECの各技術を利用する際に関連するコンポーネントをまとめました。</p>
</div>
<div class="paragraph">
<p>基本的にUECを利用する際には、NIC, Switch ASIC, Switch OS (NOS), AIアプリケーション、全てを考慮する必要がありますが、各技術のサポート有無について確認する製品やベンダーを絞り込みたい時に参照してください。</p>
</div>
<div class="paragraph">
<p>なお、"AIアプリケーション" については、アプリそのもの、ミドルウェア、など、対応が必要な範囲が異なるため、更に詳細に分類して影響を確認する必要があると思われます。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 46.6666%;">
<col style="width: 6.6666%;">
<col style="width: 6.6666%;">
<col style="width: 6.6666%;">
<col style="width: 13.3336%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Technology</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Switch ASIC</th>
<th class="tableblock halign-left valign-top">Switch OS</th>
<th class="tableblock halign-left valign-top">NIC (driver)</th>
<th class="tableblock halign-left valign-top">AIアプリ</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UEC Transport (UET)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RoCEv2の置き換えとなるトランスポートプロトコル。Out-of-order パケットの受信、ベストエフォート（非ロスレス）、等に対応。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Packet Trimming</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drop Congestion Notification (DCN) とも呼ばれる。
輻輳発生時に、パケットを一定のサイズにトリムし、高優先度で転送することにより受信ノードに輻輳を伝える。
これにより、ドロップ検知Timerによる遅延を無くす。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Link Level Retry (LLR)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">イーサネットのリンクレイヤでパケットロスが発生しないように送信管理や再送を行う。
Credit Based Flow Control (CBFC)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLDP Negotiation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLRのサポートなど、キャパビリティをノード間でネゴシエーションする。従来のLLDPにUEC拡張が行われる。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Packet Spray, Ordered(ROD) and un-ordered(RUD)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">利用可能なパス全てにパケットをSprayすることで、パケットレベルのロードバランシングを実施し、イーサネットファブリックの利用率を向上させる。
UETの機能であり、パケット（メッセージ）にメモリのどの場所に保存すべきか識別可能なIDを埋め込むことにより、受信ノードでパケットのリオーダー（バッファリング）を不要にする。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ephemeral connections （短命コネクション）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">最初のパケットにセッション情報入れてハンドシェイクを不要にする。（PDC,PDS）
バースト的なデータ転送を繰り返すワークロードでハンドシェイクのオーバーヘッドを排除しバースト毎の転送時間の短縮によるスループット向上を実現する。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">In Network Collectives (INC)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collective Communication Operation を Switch Fabric 内のスイッチにオフロードする。
恩恵として性能向上（輻輳やデータ転送量の削減、遅延の削減）、リソース利用効率の向上（プロセッサ、アクセラレータ、メモリ）、消費電力の削減、が期待される。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">??</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_uecを利用する際の検討ポイント">UECを利用する際の検討ポイント</h3>
<div class="paragraph">
<p>UECを利用する際の検討ポイントとして思いついたものを列挙しました。</p>
</div>
<div class="paragraph">
<p>組織（ユーザー、メーカー（ベンダー）、システムインテグレーター）、役割（ネットワークエンジニア、サーバーエンジニア、アプリケーション開発者）、ユースケース、予算、等によってそれぞれ重視すべき検討ポイントは異なると考えられます。</p>
</div>
<div class="paragraph">
<p>ここには2025年1月時点で著者が思い浮かんだもののみを記載していますので、「こんな視点もある」「この視点から考えるとメリット・デメリットが異なる」、などありましたら是非フィードバックお願いします。</p>
</div>
<div class="sect3">
<h4 id="_infiniband_に対する_ethernet_を利用する理由">Infiniband に対する Ethernet を利用する理由</h4>
<div class="paragraph">
<p>UECの前に検討が必要なのが、InfiniBandとイーサーネットどちらを選択するか、であり、例えば以下のような視点が考えられます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>安定性：遅延やスループットが安定しているか？（Job完了時間の短縮や安定性が最終指標）</p>
</li>
<li>
<p>柔軟性：構成変更が容易か？</p>
</li>
<li>
<p>価格</p>
</li>
<li>
<p>人材確保の容易さや教育コスト</p>
</li>
<li>
<p>マルチテナンシーの必要性</p>
</li>
<li>
<p>AI/HPC以外のトラフィックを利用するか？</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>立場や状況により重視する視点は様々ですが、サービス事業者の観点からは2025年1月に公開された LINEヤフーのBLOG "GPUクラスタネットワークとその設計思想（Rethinking AI Infrastructure Part 2）" <sup class="footnote">[<a id="_footnoteref_21" class="footnote" href="#_footnotedef_21" title="View footnote.">21</a>]</sup> でわかりやすく整理されていました。</p>
</div>
<div id="uec_blog_lineyahoo_20250115_why_ethernet_png" class="imageblock">
<div class="content">
<img src="images/uec_blog_lineyahoo_20250115_why_ethernet.png" alt="uec blog lineyahoo 20250115 why ethernet">
</div>
<div class="title">Figure 9. なぜEthernetを選択するのか（LINEヤフーBLOG <sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup> から引用）</div>
</div>
<div class="paragraph">
<p>逆に大規模なトレーニングで利用する場合は、METAなどハイパースケーラー企業が公開しているBLOGや論文を参照すると、また異なる視点について学ぶことができます。</p>
</div>
</div>
<div class="sect3">
<h4 id="_nvidia_suites_を利用しない理由">NVIDIA Suites を利用しない理由</h4>
<div class="paragraph">
<p>周辺ライブラリやソフトウェアエコシステムの成熟度から、AI分野では GPU, NIC, Switch 全てを NVIDIA の機材を利用する、というのが最初に選択肢と上がることが多いでしょう。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>NVIDIA Suites: BlueField/ConnectX + Spectrum + Cumulus, Spectrum X, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>NVIDIAもUECのメンバー企業であるため、将来的にNCCLといったNVIDIAライブラリへの対応が進んで行く可能性はありますが、最初のリリースでは対応していないと予想されます。
そのため、「なぜNVIDIAスイートを選択しないのか？」ということをクリアにすることが、UECに限らずNVIDIAではない機材や技術を選択する際に重要であり、例えば以下のような視点が考えられます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>価格</p>
</li>
<li>
<p>納期</p>
</li>
<li>
<p>AI専用チップなど、NVIDIA GPU以外のAIアクセラレータの利用</p>
</li>
<li>
<p>ベンダーロックインの回避</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_uecとroceの比較">UECとRoCEの比較</h4>
<div class="paragraph">
<p>主な点を列挙してみました。</p>
</div>
<div class="paragraph">
<p>ここに記載した内容が正解というわけでもなく他の視点も沢山あるかと思いますので、引き続きJANOG55などでの議論を通じて、整理・追記していきたいと考えています。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>メリット</p>
<div class="ulist">
<ul>
<li>
<p>オープンな技術と実装（ライブラリのソースコードへのアクセス？）</p>
</li>
<li>
<p>Lossless Ethernet が不要 &#8658; チューニング不要なシンプルなスイッチファブリック</p>
</li>
<li>
<p>アクセラレータの選択肢拡大</p>
</li>
</ul>
</div>
</li>
<li>
<p>デメリット</p>
<div class="ulist">
<ul>
<li>
<p>NVIDIAエコシステムからの移行の手間や動作しないリスク</p>
</li>
<li>
<p>NVIDIAお任せにできない（UECシステムパックを提供するベンダが出現するかも？DELL,HPE？）</p>
</li>
<li>
<p>システムインテグレーションに伴う検証や相性問題のリスク</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_既存環境でのチューニングの必要性について">既存環境でのチューニングの必要性について</h4>
<div class="paragraph">
<p>RoCEv2が前提とするロスレスイーサネットでの性能限界を達成するためには、バッファサイズや閾値など、ワークロードに応じたチューニングが必要と言われています。
しかし、達成したい性能とチューニングにかけられるコスト（時間と機材）のバランスや優先度は、各サービス（システム）や組織により異なります。</p>
</div>
<div class="paragraph">
<p>そのため、例えば以下のような観点を考慮し、「チューニングを行わない方が良い」、という判断になる可能性もあると考えられるため、"チューニングが不要" というのがUEC導入理由になるかは、利用するアクセラレータに応じて、各種ベンチマークや性能以外の指標や利便性を考慮しながらの判断になると考えています。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>デフォルト設定での性能</p>
</li>
<li>
<p>サービスの規模（巨大サービスでは小さな改善でも大きな効果がある）</p>
</li>
<li>
<p>チューニングが可能な人材のコスト</p>
</li>
<li>
<p>チューニングに必要な期間（その間の機会損失）</p>
</li>
<li>
<p>ネットワーク、サーバー、などのコストバランス</p>
</li>
<li>
<p>利用するアクセラレータ（GPU）の技術スタックの成熟度</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_uec仕様や製品のロードマップ">UEC仕様や製品のロードマップ</h3>
<div class="paragraph">
<p>UECの仕様や製品がいつリリースされるかは、利用検討の重要な要素です。</p>
</div>
<div class="paragraph">
<p>図："UEC Target Timelines, 2024-10-15" は2024年10月に開催されたOCP Global Summitで発表されたロードマップです。
これによると、UECの仕様や製品がリリースされるのはそれぞれ以下のタイミングになりそうです。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>UEC仕様(v1.0) : 2025年3月頃（第一四半期）</p>
</li>
<li>
<p>UEC対応製品：2025年（おそらく中旬以降？）</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>但し、2023年時点では2024年中に仕様公開を目指すと発表されていましたので、今後ロードマップが変更される可能性もあります。
UECのプレスリリース、BLOG、ベンダー各社からの発表などを通じて、最新の動向を確認しながら検討を進めましょう。</p>
</div>
<div id="uec_target_timelines_20241015_png" class="imageblock">
<div class="content">
<img src="images/uec-target-timelines-20241015.png" alt="UEC Target Timelines 2024-10-15" width="80%">
</div>
<div class="title">Figure 10. UEC Target Timelines, 2024-10-15, "Accelerating AI/HPC: OCP and UEC&#8217;s Collaborative Vision for High-Performance Networking, Uri Elzur, OCP2024" <sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup> から引用</div>
</div>
</div>
<div class="sect2">
<h3 id="_uec対応製品出荷前の製品を含む">UEC対応製品（出荷前の製品を含む）</h3>
<div class="paragraph">
<p>2024年後半には各社からUEC対応製品についてのアナウンスが相次ぎました。
ここではUEC対応製品を列挙します。
アナウンスがあった製品はそのリンクを、アナウンスはまだ無いがおそらくUEC対応製品をリリースすると思われるベンダーに関してはプレースホルダとして企業や製品名だけを記載してあります。</p>
</div>
<div class="paragraph">
<p>なお、UECに限らずデータセンター向け製品は、最初はハイパースケーラーなど大量購入する企業に割り当てられて、その後に大規模〜中規模の事業者で購入が可能になる傾向があります。
そのため、製品リリースと実際に入手可能になるタイミングにはズレがあることが多いことに注意が必要です。</p>
</div>
<div class="sect3">
<h4 id="_amd">AMD</h4>
<div class="sect4">
<h5 id="_amd_pensando_pollara_400_smartnic">AMD Pensando Pollara 400 (SmartNIC)</h5>
<div class="ulist">
<ul>
<li>
<p>AMD Pensando Pollara 400, the first Ultra Ethernet Consortium ready NIC, reduces the complexity of performance tuning and helps improve time to production.</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://ir.amd.com/news-events/press-releases/detail/1218/amd-unveils-leadership-ai-solutions-at-advancing-ai-2024" class="bare">https://ir.amd.com/news-events/press-releases/detail/1218/amd-unveils-leadership-ai-solutions-at-advancing-ai-2024</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>AMD unveils industry&#8217;s first Ultra Ethernet ready network card for AI and HPC News, October 11, 2024</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.tomshardware.com/networking/amd-unveils-industrys-first-ultra-ethernet-ready-network-card-for-ai-and-hpc" class="bare">https://www.tomshardware.com/networking/amd-unveils-industrys-first-ultra-ethernet-ready-network-card-for-ai-and-hpc</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_broadcom">Broadcom</h4>
<div class="sect4">
<h5 id="_thor_2_nic_chip">Thor 2 NIC Chip</h5>
<div class="ulist">
<ul>
<li>
<p>2024-07-02, "Word on the Street: Broadcom high-performance 400G RoCE / RDMA NICs"</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.broadcom.com/blog/400g-roce-rdma-nics" class="bare">https://www.broadcom.com/blog/400g-roce-rdma-nics</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_switch_asic">Switch ASIC</h5>
<div class="ulist">
<ul>
<li>
<p>Tomahawk 5: Packet Trim (DCN) に対応</p>
</li>
<li>
<p>Jericho 3-AI: ???</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_marvell_technology">Marvell Technology</h4>

</div>
<div class="sect3">
<h4 id="_marvel_nic">Marvel NIC</h4>
<div class="ulist">
<ul>
<li>
<p>SmartNIC をリリースする可能性あり？</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_marvell_teralynx_ethernet_switch">Marvell Teralynx Ethernet Switch</h5>
<div class="ulist">
<ul>
<li>
<p>Marvell Technology: As a member of the UEC, Marvell is committed to advancing Ethernet technology for AI and accelerated computing. Their Teralynx® Ethernet switches are optimized for low-latency fabrics between compute nodes, aligning with UEC&#8217;s objectives.</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://multiplatform.ai/marvell-teralynx-10-switch-enters-production-to-meet-surge-in-ai-cloud-demands/" class="bare">https://multiplatform.ai/marvell-teralynx-10-switch-enters-production-to-meet-surge-in-ai-cloud-demands/</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_arista">Arista</h4>
<div class="sect4">
<h5 id="_arista_etherlink_aiプラットフォーム">Arista Etherlink AIプラットフォーム</h5>
<div class="ulist">
<ul>
<li>
<p>Arista Etherlink AIプラットフォーム</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.arista.com/jp/solutions/ai-networking" class="bare">https://www.arista.com/jp/solutions/ai-networking</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://blogs.arista.com/blog/new-ai-era" class="bare">https://blogs.arista.com/blog/new-ai-era</a></p>
<div class="ulist">
<ul>
<li>
<p>Arista Etherlink is standards-based Ethernet with UEC-compatible features. These include dynamic load balancing, congestion control, and reliable packet delivery to all NICs supporting RoCE. Arista Etherlink will be supported across a broad range of 800G systems and line cards based on Arista EOSⓇ. As the UEC specification is finalized, Arista AI platforms will be upgradeable to be compliant.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://www.arista.com/jp/company/news/press-release/19841-jp-pr-20240605" class="bare">https://www.arista.com/jp/company/news/press-release/19841-jp-pr-20240605</a></p>
<div class="ulist">
<ul>
<li>
<p>すべてのEtherlinkスイッチが新たに設立されたUltra Ethernet Consortium（UEC）の標準をサポートしています。この標準によって、近い将来UECのNICが利用可能になったとき、パフォーマンスのメリットがさらに大きくなると期待されています。</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_asterfusion">Asterfusion</h4>
<div class="paragraph">
<p>UEC仕様が公開されたのち、将来的にUEC対応するとアナウンスしている。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>2024-09-03, The Ultimate Switches for Artificial Intelligence</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://medium.com/@Asterfusion/the-ultimate-switches-for-artificial-intelligence-80fb8033ce86" class="bare">https://medium.com/@Asterfusion/the-ultimate-switches-for-artificial-intelligence-80fb8033ce86</a></p>
</li>
<li>
<p>Asterfusion AI Switches Offers Forward-compatible Products with UEC Standard.</p>
</li>
<li>
<p>As the Ultra Ethernet Consortium (UEC) completes its expansion to improve Ethernet for AI workloads, Asterfusion is building products that will be ready for the future. The Asterfusion CX-N AI data centre switch portfolio is the definitive choice for AI networks, leveraging standards-based Ethernet systems to provide a comprehensive range of intelligent features. These features include dynamic load balancing, congestion control, and reliable packet delivery to all ROCE-enabled network adapters. <strong>As soon as the UEC specification is finalised, the Asterfusion AI platform will be upgradeable to comply with it.</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>CX864E Data Sheet</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://cloudswit.ch/wp-content/uploads/2024/06/Datasheet-CX864E-N-Ultra-Ethnet-Switch.pdf" class="bare">https://cloudswit.ch/wp-content/uploads/2024/06/Datasheet-CX864E-N-Ultra-Ethnet-Switch.pdf</a></p>
</li>
<li>
<p>"Line-rate programmability to support evolving UEC (Ultra Ethernet Consortium) standards" と記載されているため、将来的にUECに対応可能（だがまだサポートしていない）とも解釈できる</p>
</li>
</ul>
</div>
</li>
<li>
<p>2024-10-24, "The Ultimate In-Depth Exploration of Ultra Ethernet Consortium (UEC) Technology"</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://cloudswit.ch/blogs/exploration-of-ultra-ethernet-consortium-uec/" class="bare">https://cloudswit.ch/blogs/exploration-of-ultra-ethernet-consortium-uec/</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_cisco_nexus_9000_series_switches">Cisco Nexus 9000 Series Switches</h4>
<div class="ulist">
<ul>
<li>
<p>2024-12-12, "Nexus Improves Load Balancing and Brings UEC Closer to Adoption"</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://blogs.cisco.com/datacenter/nexus-improves-load-balancing-and-brings-uec-closer-to-adoption" class="bare">https://blogs.cisco.com/datacenter/nexus-improves-load-balancing-and-brings-uec-closer-to-adoption</a></p>
</li>
<li>
<p>Cisco Nexus 9000 is Ultra Ethernet ready</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_mercury_ai_supernic">Mercury AI-SuperNIC</h4>
<div class="ulist">
<ul>
<li>
<p>2025-01-06, "DreamBig Announces world leading 800G AI-SuperNIC chip (Mercury) with Fully HW Offloaded RoCE v2 + UEC RDMA Engine"</p>
<div class="ulist">
<ul>
<li>
<p>DreamBig Mercury chip features a hardware accelerated RDMA engine that supports existing RoCE (RDMA over Converged Ethernet) v2 and new UEC (Ultra Ethernet Consortium) standards, delivering best-in-class bandwidth (800Gbps) and throughput (800Mpps) with lowest power, ultra low latency, and smallest area.</p>
</li>
<li>
<p><a href="https://www.prnewswire.com/news-releases/dreambig-announces-world-leading-800g-ai-supernic-chip-mercury-with-fully-hw-offloaded-roce-v2&#8212;&#8203;uec-rdma-engine-302342748.html" class="bare">https://www.prnewswire.com/news-releases/dreambig-announces-world-leading-800g-ai-supernic-chip-mercury-with-fully-hw-offloaded-roce-v2&#8212;&#8203;uec-rdma-engine-302342748.html</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Mercury is designed with fully programmable Congestion Control to adapt to any data center and provides the following critical functions for AI applications</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Multi-pathing and packet spraying</p>
</li>
<li>
<p>Out-of-order packet placement with in-order message delivery</p>
</li>
<li>
<p>Programmable congestion control for RoCE v2 and UEC algorithms</p>
</li>
<li>
<p>Advanced packet trimming and telemetry congestion notifications</p>
</li>
<li>
<p>Support for selective retransmission</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. "Keynote: Networking for AI and HPC, and Ultra Ethernet", NANOG 92, Hugh Holbrook, Arisa Networks
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. "Keynote: Networking for AI and HPC, and Ultra Ethernet", NANOG 92, Hugh Holbrook, Arisa Networks
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. <a href="https://techblog.lycorp.co.jp/ja/20250115a" class="bare">https://techblog.lycorp.co.jp/ja/20250115a</a>
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. <a href="https://www.opencompute.org/events/past-events/2024-ocp-global-summit" class="bare">https://www.opencompute.org/events/past-events/2024-ocp-global-summit</a>
</div>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. <a href="https://www.top500.org/lists/top500/list/2024/11/" class="bare">https://www.top500.org/lists/top500/list/2024/11/</a>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. <a href="https://ultraethernet.org/leading-cloud-service-semiconductor-and-system-providers-unite-to-form-ultra-ethernet-consortium/" class="bare">https://ultraethernet.org/leading-cloud-service-semiconductor-and-system-providers-unite-to-form-ultra-ethernet-consortium/</a>
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. <a href="https://jointdevelopment.org/" class="bare">https://jointdevelopment.org/</a>
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. <a href="https://ultraethernet.org/" class="bare">https://ultraethernet.org/</a>
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. <a href="https://ultraethernet.org/working-groups/" class="bare">https://ultraethernet.org/working-groups/</a>
</div>
<div class="footnote" id="_footnotedef_6">
<a href="#_footnoteref_6">6</a>. UECホームページの "Download White Paper" をクリック
</div>
<div class="footnote" id="_footnotedef_7">
<a href="#_footnoteref_7">7</a>. <a href="https://ultraethernet.org/blog/" class="bare">https://ultraethernet.org/blog/</a>
</div>
<div class="footnote" id="_footnotedef_8">
<a href="#_footnoteref_8">8</a>. <a href="https://ofiwg.github.io/libfabric/" class="bare">https://ofiwg.github.io/libfabric/</a>
</div>
<div class="footnote" id="_footnotedef_9">
<a href="#_footnoteref_9">9</a>. UECホームページの "Download White Paper" をクリック
</div>
<div class="footnote" id="_footnotedef_10">
<a href="#_footnoteref_10">10</a>. UECホームページの "Download White Paper" をクリック
</div>
<div class="footnote" id="_footnotedef_11">
<a href="#_footnoteref_11">11</a>. <a href="https://datatracker.ietf.org/doc/draft-ravi-ippm-csig/" class="bare">https://datatracker.ietf.org/doc/draft-ravi-ippm-csig/</a>
</div>
<div class="footnote" id="_footnotedef_12">
<a href="#_footnoteref_12">12</a>. BTS is a sub-RTT backward congestion signaling from the switch back to the sending Network Adapter.
</div>
<div class="footnote" id="_footnotedef_13">
<a href="#_footnoteref_13">13</a>. <a href="https://www.broadcom.com/blog/cognitive-routing-in-the-tomahawk-5-data-center-switch" class="bare">https://www.broadcom.com/blog/cognitive-routing-in-the-tomahawk-5-data-center-switch</a>
</div>
<div class="footnote" id="_footnotedef_14">
<a href="#_footnoteref_14">14</a>. <a href="https://github.com/opencomputeproject/SAI/pull/2077" class="bare">https://github.com/opencomputeproject/SAI/pull/2077</a>
</div>
<div class="footnote" id="_footnotedef_15">
<a href="#_footnoteref_15">15</a>. <a href="https://github.com/marian-pritsak/SAI/blob/master/doc/SAI-Proposal-Packet-Trimming.md" class="bare">https://github.com/marian-pritsak/SAI/blob/master/doc/SAI-Proposal-Packet-Trimming.md</a>
</div>
<div class="footnote" id="_footnotedef_16">
<a href="#_footnoteref_16">16</a>. <a href="https://ultraethernet.org/ultra-ethernet-specification-update" class="bare">https://ultraethernet.org/ultra-ethernet-specification-update</a>
</div>
<div class="footnote" id="_footnotedef_17">
<a href="#_footnoteref_17">17</a>. <a href="https://docs.nvidia.com/networking/software/accelerator-software/index.html#nvidia-sharp" class="bare">https://docs.nvidia.com/networking/software/accelerator-software/index.html#nvidia-sharp</a>
</div>
<div class="footnote" id="_footnotedef_18">
<a href="#_footnoteref_18">18</a>. <a href="https://ieeexplore.ieee.org/document/7830486" class="bare">https://ieeexplore.ieee.org/document/7830486</a>
</div>
<div class="footnote" id="_footnotedef_19">
<a href="#_footnoteref_19">19</a>. R. L. Graham et al., "Scalable Hierarchical Aggregation Protocol (SHArP): A Hardware Architecture for Efficient Data Reduction," 2016 First International Workshop on Communication Optimizations in HPC (COMHPC), Salt Lake City, UT, USA, 2016, pp. 1-10, doi: 10.1109/COMHPC.2016.006.
</div>
<div class="footnote" id="_footnotedef_20">
<a href="#_footnoteref_20">20</a>. <a href="https://network.nvidia.com/pdf/solutions/hpc/paperieee_copyright.pdf" class="bare">https://network.nvidia.com/pdf/solutions/hpc/paperieee_copyright.pdf</a>
</div>
<div class="footnote" id="_footnotedef_21">
<a href="#_footnoteref_21">21</a>. <a href="https://techblog.lycorp.co.jp/ja/20250115a" class="bare">https://techblog.lycorp.co.jp/ja/20250115a</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-01-28 16:23:26 +0900
</div>
</div>
</body>
</html>